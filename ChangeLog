
2004-12-29  Paolo Mantegazza  <mantegazza@aero.polimi.it>

        * base/include/asm-i386/rtai_emulate_tsc.h: to help forcing TSC
	  emulation on machines that have it.
        * base/include/asm-i386/rtai_hal.h: modified rdtsc from inline
	  to define to allow undefinition when TSC emulation is forced;
	  added inclusion of "rtai_emulate_tsc.h".
        * base/sched/sched.c: added the possibility of simulating non TSC 
	  machines on TSC ones, it helps developping 486 embedded systems
	  without having one available yet.

2004-12-29  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* First big real commit with the structuring needed for a fully 
	LXRT based release. Changes to the starting baseline:
	- The scheduler should have no x86 specific feature in it 
          anymore, all the arch dependent parts should be in appropriate
	  arch specific header files;
	- Kernel space only operation maintained within LXRT;
	- Use of the APIC timer, when enabled, with UP also;
	- All RTAI ways from user to kernel space, i.e. srq and LXRT,
	  unified in a single call; x86 verified, all other archs should
	  follow suite;
	- Possibility of using the standard Linux syscall for LXRT,
	  arch independent hopefully;
	- Restated automatic hard/soft/hard switches when a Linux
	  syscall is made while RTAI is in hard real time mode, recovery
	  to hard mode in the syscall return path also;
	- IRQ specific tasks native within the scheduler, so the USI way
	  is now simmetrically available in kernel/user space; USI is
	  kept for compatibility only, its use should be avoided;
	- The suspend API has been expanded in the standard RTAI way, i.e.:
	  suspend/suspend_if/suspend_until/suspend_timed, to support RTAI
	  IRQ tasks; available independently also;
	- Prepared to have real time irqs either dispatched "immediately" 
	  or "piped" ("immed"-"piped" mode); "piped" will be the default.
	* Only a rough preliminary testing of the all stuff has been carried 
	  out and, at the moment it is i386 only.

2004-12-09  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* Started: baseline from 3.1r2.
