2005-07-21  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	  sched/api.c: fixed a wrong test in function "hash_rem_adr" that
	  caused an unconditional deletion of counted registrations also.

2005-07-15  Ignacio García Pérez <iggarpe@terra.es>

	* base/include/asm-i386/rtai_hal.immed: fixed a very bad misnaming 
	  in interrupt flags manipulating macros.

2005-07-14  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/include/asm-i386/rtai_lxrt.h: if using Linux syscall for RTAI 
	  proper syscalls is enabled then we do exactly what Linux does.

2005-07-12  Paul <bdi-emc@ntlworld.com>

	* /base/include/asm-i386/rtai_atomic.h: added likely/unlikely support to
	  avoid problems with < gcc-2.96.

2005-07-10  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/include/asm/rtai_fpu.h: extensively revised/rewritten, 
	  related conceptual changes and new names reflected in:
	  asm-i386/rtai_sched.h, sched/sched.immed, sched/sys.c, tasklets.c,
	  arch/i386/hal/hal.immed.
	* base/include/rtai_schedcore.h: unified all definitions of 
	  RTAI functions args from user space in a single place, 
	  changes and new names reflected in:
	  sched/sched.immed, sched/sys.c, ipc/netrpc/netrpc.c.
	* base/sched/sys.c: revised intertask messages exchanges from 
	  user space.

2005-07-08  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/include/asm/rtai_fpu.h: preliminary cleanup, before an 
	  overall ovehauling.

2005-07-04  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/include/rtai_schedcore.h,
	* base/sched/sched.immed: reorganised and renamed optional busy wait 
	  time alignments at return from schedules.

2005-07-04  Panagiotis Issaris  <takis@gna.org>

	* base/include/{rtai_msg.h, rtai_names.h}, base/ipc/msg/msg.c: Prevent 
	  a name clash.

2005-07-03  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/include/rtai_schedcore.h: fixed wrong determination of the
	  cpu to which a readied soft task is pended.
	* base/sched/sched.immed: revised and improved managment 
	  of RTAI syscalls, following revision of the encoding of msgs 
	  read/writes.
	* base/sched/sys.c: put likely/unlikely suggestions here and there.
	* base/ipc/sem/sem.c: more consistent check in case of abnormal 
	  wakeup from rt_schedule, avoid using sem.
	* base/ipc/mbx/mbx.c: more consistent check in case of abnormal 
	  wakeup from rt_schedule, avoid using anything related to mbx.
	* base/ipc/msg/msg.c: consistent check in case of abnormal 
	  wakeup from rt_schedule, avoid using anything related to the
	  messaged task.

2005-07-01  Panagiotis Issaris <takis@gna.org>

	* configure.in: Fix the configure script when using an external Linux
	build directory.
	
2005-06-30  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/sched/sched.immed and api.c: implemnted new hashed registry
	  support.
	* /base/include/rtai_nam2num.h and rtai_registry.h: adapted to work 
	* /base/ipc/shm/shm.c: adapted to work with the new hashed registry 
	* /base/ipc/msg/msg.c: cancelled redundant dangerous dequeue_blocked.
	* /base/arch/i386/hal/hal.immed: adapted to likely changes of future
	  ADEOS patches.

2005-06-21  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/sched/sched.immed and sys.c: revised and improved managment 
	  of RTAI syscalls, following revision of the encoding of msgs 
	  read/writes.
	* base/ipc/netrpc/netrpc.c: exploits the semplification of the 
	  new encoding schedme for msgs read/writes.
	* base/include/rtai_schedcore.h: unifies an ubiquitus declaration
	  of RTAI syscalls arguments in a single place.
	* base/include/rtai_lxrt.h: simplified encoding of msgs read/writes.
	* base/include/rtai_netrpc.h: inheredits the encoding of rtai_lxrt.h,
	  with all the changes to functions declarations related to it.

2005-06-21  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/ipc/fifos/fifos.c: avoid direct initialiasation of a 
	  spinlock, conflicting with Linux 2.6.11.
	* base/include/rtai_shm.h: conditinally define the arch independent 
	  function "remap_page_range", that disappeared in Linux 2.6.11.

2005-06-21  Jan Kiszka  <kiszka@rts.uni-hannover.de>

	* base/include/asm-i386/rtai_fpu.h: FPU support must now care
	  of different versions of Linux 2.6.xx also.
	* base/include/asm-i386/rtai_shm.h: shared pages manipulation needs
	  to care of different versions of Linux 2.6.xx also.
	* base/arch/i386/hal/hal.immed: setting of Linux priority must now
	  account for different versions of Linux 2.6.xx too; rare "device
	  not available" traps updated to use new overhauled macros in 
	  asm-i386/rtai_fpu.h.
	* base/sched/sched.c and base/sched/sys.c: updated to use new
	  overhauled macros in asm-i386/rtai_fpu.h.

2005-06-21  Bernd Suessmilch  <Bernd.Suessmilch@uibk.ac.at>

	* base/sched/sched.c:
	* base/sched/sys.c: improved Linux signal catching and dispatching.
	
2005-06-17  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/include/rtai_schedcore.h: pend trasitions to soft mode
	  directly, they are all atomic protected already.
	* base/sched/sched.c: uses above and simplified the trasition to 
	  soft mode handler.

2005-06-16  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/arch/i386/hal/hal.immed: direct vectoring of irqs to the
	  CPU has its tail as for immediate dispatching, to help Linux in
	  the non preemptible case, i.e. under 2.4.xx. It tend to starve
	  otherwise under very very high soft real time load.

2004-06-14  Roberto Bucher  <roberto.bucher@supsi.ch>

        * rtai-lab/scilab/macros/RTAI/RTAICodeGen_.sci: Corrected problem with
	acivation from continous blocks. Better handling of "ode" functions
        * rtai-lab/scilab/devices/rtai_comedi_dio.c: Corrected problem with
	threshold in output block
	
2005-05-31  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/arch/x86_64/hal/hal.immed:
	  and
	* base/include/asm-x86_64/rtai_hal.immed: all features of the 
	  latest i386 version.

2005-05-30  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/arch/i386/hal/hal.immed: rt_printk uses printk directly, 
	  a sync version added also.
	  
2005-05-30  Daniele Gasperini  <gasperin@elet.polimi.it>

	* first port of what needed to use x*6_64.

2005-05-25  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/arch/i386/hal/hal.immed: trap handler modified to use 
	  unwrapped ADEOS event catching.
	* base/sched/sched.immed: all event handlers modified to use
          unwrapped ADEOS event catching; depends on the definition of the
	  macro "UNWRAPPED_CATCH_EVENT", to be defined in rtai_hal.h.
	* base/include/asm-i386/rtai_hal.immed: enabled macro to use 
	  unwrapped event catching.
	* base/arch/i386/patches: modified handle_event to avoid wrapping
	  event and related data.

2004-05-25  Roberto Bucher  <roberto.bucher@supsi.ch>

        * rtai-lab/scilab/macros/RTAI/RTAICodeGen_.sci: Added checks for the
	dialog box values
        * rtai-lab/scilab/macros/RTAI/SetTarget_.sci: Added checks for the
	dialog box values
	

2005-05-24  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/include/asm/rtai_hal.immed: do not double marking in hard 
	  real time, in cpu_realtime, the depth count is more than enough.
	* base/arch/i386/hal/hal.immed: lock out Linux directly from 
	  interrupt handlers; avoid dispatching irqs completely.
	* base/sched/sched.immed: care of avoiding Linux locking when done
	  in irq handler already, enable immediate sched on ipi without
	  dispatching.

2004-05-23  Roberto Bucher  <roberto.bucher@supsi.ch>

        * rtai-lab/scilab/rtmain.c: Support for continous blocks
        * rtai-lab/scilab/macros/RTAI/*: RTAICodeGen_.sci modified and compatible with 
	  Scilab-3.1 CVS with support for continous blocks
	  Added subdirectory "RT_templates" for tmemplate Makefiles
	  Added New function "SetTarget_.sci" to handle template Makefile and
	  continous code generation.

2005-05-18  Philippe Gerum  <rpm@xenomai.org>

	* configure.in: stop configuring if Linux REGPARMS is set.

2005-05-18  Paolo Mantegazza  <mantegazza@aero.polimi.it>

	* base/include/rtai_malloc.h: practically break any constraint in
	  dynamic memory allocation.

2004-05-13  Paolo Mantegazza  <mantegazza@aero.polimi.it>

        * base/sched/sched.immed: 
	  - changed coding of circular pending lists,
	  - pending wake up macro transferred to rtai_schedcore.h,
	  - parametrised give_back_to_linux to distinguish between raw
	    use and internal hard/soft transitions following Linux use,
	  - use ADEOS virq directly for waking up Linux tasks from RTAI.
        * base/sched/api.c: sleeping tasks wake up substituted with the more
	  general rt_task_masked_unblock, so that it becomes just a #define 
	  subcase of it.
        * base/sched/sys.c: cares of the paremetrised give_back_to_linux.
        * base/arch/i386/hal.immed: 
	  - cleaned unused/useless stuff,
	  - layout restyling,
	  - old cpu affinity state is saved no more, as it could wrongly 
	    restate an unintended mask in case of repeated calls, user must
	    care of it; to such an aim the set affinity function return the
	    previous state,
	  - optional stalling of the RTAI domain in hard mode, under control
	    of the STALL_RTAI_DOMAIN macro,
        * base/include/asm-i386/rtai_hal.immed: changes to support consistency 
	  when STALL_RTAI_DOMAIN is used.
        * base/include/rtai_schedcore.h: defines pending wake up macros for
	  any need. 
        * testsuite/kern/latency/, testsuite/user/latency/: output conforming
	  to 3.2, i.e with overall count of periodic reschedules displayed
	  also.

2004-05-03  Roberto Bucher  <roberto.bucher@supsi.ch>

        * rtai-lab/scilab/macros/RTAI/*: Added new blocks

2005-04-27  Panagiotis Issaris <panagiotis.issaris@mech.kuleuven.ac.be>
	* testsuite/{user,kernel}/{latency,preempt}/display.c: output is now 
	in tabular format and output uses the same units for each test.
	* testsuite/user/latency/display.c: show overall maximum latency.

2004-04-20  Roberto Bucher  <roberto.bucher@supsi.ch>

        * rtai-lab/scilab/macros/RTAI/*: Scicos ports are now set automatically
	* rtai-lab/scilab/devices/*: library files modified for port set automatically
	* rtai-lab/scilab/example/tes.cos: Modifies with the new scicos blocks

2004-04-13  Paolo Mantegazza  <mantegazza@aero.polimi.it>

        * begin new development cycle, aligning to stable vulcano.
