<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>RTAI API: rtai-core/include/rtai_tasklets.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="modules.html">Modules</a> | <a class="qindex" href="annotated.html">Data&nbsp;Structures</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Data&nbsp;Fields</a> | <a class="qindex" href="globals.html">Globals</a> | <a class="qindex" href="pages.html">Related&nbsp;Pages</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>rtai-core/include/rtai_tasklets.h</h1><a href="rtai__tasklets_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 
00026 <span class="preprocessor">#ifndef _RTAI_TASKLETS_H</span>
00027 <span class="preprocessor"></span><span class="preprocessor">#define _RTAI_TASKLETS_H</span>
00028 <span class="preprocessor"></span>
00033 <span class="preprocessor">#include &lt;rtai_types.h&gt;</span>
00034 
00035 <span class="preprocessor">#define TSKIDX  1</span>
00036 <span class="preprocessor"></span>
00037 <span class="preprocessor">#define INIT             0</span>
00038 <span class="preprocessor"></span><span class="preprocessor">#define DELETE           1</span>
00039 <span class="preprocessor"></span><span class="preprocessor">#define TASK_INSERT      2</span>
00040 <span class="preprocessor"></span><span class="preprocessor">#define TASK_REMOVE      3</span>
00041 <span class="preprocessor"></span><span class="preprocessor">#define USE_FPU          4</span>
00042 <span class="preprocessor"></span><span class="preprocessor">#define TIMER_INSERT     5</span>
00043 <span class="preprocessor"></span><span class="preprocessor">#define TIMER_REMOVE     6</span>
00044 <span class="preprocessor"></span><span class="preprocessor">#define SET_TASKLETS_PRI 7</span>
00045 <span class="preprocessor"></span><span class="preprocessor">#define SET_FIR_TIM      8      </span>
00046 <span class="preprocessor"></span><span class="preprocessor">#define SET_PER          9</span>
00047 <span class="preprocessor"></span><span class="preprocessor">#define SET_HDL         10</span>
00048 <span class="preprocessor"></span><span class="preprocessor">#define SET_DAT         11</span>
00049 <span class="preprocessor"></span><span class="preprocessor">#define EXEC_TASKLET    12</span>
00050 <span class="preprocessor"></span><span class="preprocessor">#define WAIT_IS_HARD    13</span>
00051 <span class="preprocessor"></span><span class="preprocessor">#define SET_TSK_PRI     14</span>
00052 <span class="preprocessor"></span><span class="preprocessor">#define REG_TASK        15</span>
00053 <span class="preprocessor"></span>
00054 <span class="keyword">struct </span>rt_task_struct;
00055 
00056 <span class="keyword">struct </span>rt_tasklet_struct {
00057 
00058     <span class="keyword">struct </span>rt_tasklet_struct *next, *prev;
00059     <span class="keywordtype">int</span> priority, uses_fpu;
00060     RTIME firing_time, period;
00061     void (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>);
00062     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data, id;
00063     <span class="keywordtype">int</span> thread;
00064     <span class="keyword">struct </span>rt_task_struct *task;
00065     <span class="keyword">struct </span>rt_tasklet_struct *usptasklet;
00066 };
00067 
00068 <span class="preprocessor">#ifdef __KERNEL__</span>
00069 <span class="preprocessor"></span>
00070 <span class="preprocessor">#define STACK_SIZE 8196</span>
00071 <span class="preprocessor"></span>
00072 <span class="preprocessor">#ifdef __cplusplus</span>
00073 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00074 <span class="preprocessor">#endif </span><span class="comment">/* !__cplusplus */</span>
00075 
00076 <span class="keywordtype">int</span> __rtai_tasklets_init(<span class="keywordtype">void</span>);
00077 
00078 <span class="keywordtype">void</span> __rtai_tasklets_exit(<span class="keywordtype">void</span>);
00079 
00080 <span class="keyword">struct </span>rt_tasklet_struct *<a class="code" href="group__tasklets.html#a9">rt_init_tasklet</a>(<span class="keywordtype">void</span>);
00081 
00082 <span class="keywordtype">int</span> <a class="code" href="group__tasklets.html#a10">rt_delete_tasklet</a>(<span class="keyword">struct</span> rt_tasklet_struct *tasklet);
00083 
00084 <span class="keywordtype">int</span> <a class="code" href="group__tasklets.html#a19">rt_insert_tasklet</a>(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00085                       <span class="keywordtype">int</span> priority,
00086                       <span class="keywordtype">void</span> (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>),
00087                       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data,
00088                       <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> id,
00089                       <span class="keywordtype">int</span> pid);
00090 
00091 <span class="keywordtype">void</span> <a class="code" href="group__tasklets.html#a21">rt_remove_tasklet</a>(<span class="keyword">struct</span> rt_tasklet_struct *tasklet);
00092 
00093 <span class="keyword">struct </span>rt_tasklet_struct *<a class="code" href="group__tasklets.html#a25">rt_find_tasklet_by_id</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> id);
00094 
00095 <span class="keywordtype">int</span> <a class="code" href="group__tasklets.html#a22">rt_exec_tasklet</a>(<span class="keyword">struct</span> rt_tasklet_struct *tasklet);
00096 
00097 <span class="keywordtype">void</span> rt_set_tasklet_priority(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00098                              <span class="keywordtype">int</span> priority);
00099 
00100 <span class="keywordtype">int</span> rt_set_tasklet_handler(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00101                            <span class="keywordtype">void</span> (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>));
00102 
00103 <span class="preprocessor">#define rt_fast_set_tasklet_handler(t, h) do { (t)-&gt;handler = (h); } while (0)</span>
00104 <span class="preprocessor"></span>
00105 <span class="keywordtype">void</span> rt_set_tasklet_data(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00106                          <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data);
00107 
00108 <span class="preprocessor">#define rt_fast_set_tasklet_data(t, d) \</span>
00109 <span class="preprocessor">do { \</span>
00110 <span class="preprocessor">   (t)-&gt;data = (d); \</span>
00111 <span class="preprocessor">} while (0)</span>
00112 <span class="preprocessor"></span>
00135 <span class="keyword">struct </span>rt_task_struct *rt_tasklet_use_fpu(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00136                                           <span class="keywordtype">int</span> use_fpu);
00137 
00154 <span class="preprocessor">#define rt_init_timer rt_init_tasklet </span>
00155 <span class="preprocessor"></span>
00172 <span class="preprocessor">#define rt_delete_timer rt_delete_tasklet</span>
00173 <span class="preprocessor"></span>
00174 <span class="keywordtype">int</span> <a class="code" href="group__tasklets.html#a11">rt_insert_timer</a>(<span class="keyword">struct</span> rt_tasklet_struct *timer,
00175                     <span class="keywordtype">int</span> priority,
00176                     RTIME firing_time,
00177                     RTIME period,
00178                     <span class="keywordtype">void</span> (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>),
00179                     <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data,
00180                     <span class="keywordtype">int</span> pid);
00181 
00182 <span class="keywordtype">void</span> <a class="code" href="group__tasklets.html#a12">rt_remove_timer</a>(<span class="keyword">struct</span> rt_tasklet_struct *timer);
00183 
00184 <span class="keywordtype">void</span> <a class="code" href="group__tasklets.html#a13">rt_set_timer_priority</a>(<span class="keyword">struct</span> rt_tasklet_struct *timer,
00185                            <span class="keywordtype">int</span> priority);
00186 
00187 <span class="keywordtype">void</span> <a class="code" href="group__tasklets.html#a14">rt_set_timer_firing_time</a>(<span class="keyword">struct</span> rt_tasklet_struct *timer,
00188                               RTIME firing_time);
00189 
00190 <span class="keywordtype">void</span> <a class="code" href="group__tasklets.html#a15">rt_set_timer_period</a>(<span class="keyword">struct</span> rt_tasklet_struct *timer,
00191                          RTIME period);
00192 
00193 <span class="preprocessor">#define rt_fast_set_timer_period(t, p) \</span>
00194 <span class="preprocessor">do { \</span>
00195 <span class="preprocessor">   (t)-&gt;period = (p); \</span>
00196 <span class="preprocessor">} while (0)</span>
00197 <span class="preprocessor"></span>
00221 <span class="preprocessor">#define rt_set_timer_handler rt_set_tasklet_handler</span>
00222 <span class="preprocessor"></span>
00223 <span class="preprocessor">#define rt_fast_set_timer_handler(t, h) do { (t)-&gt;handler = (h); } while (0)</span>
00224 <span class="preprocessor"></span>
00247 <span class="preprocessor">#define rt_set_timer_data rt_set_tasklet_data</span>
00248 <span class="preprocessor"></span>
00249 <span class="preprocessor">#define rt_fast_set_timer_data(t, d) do { (t)-&gt;data = (d); } while (0)</span>
00250 <span class="preprocessor"></span>
00251 <span class="preprocessor">#define rt_timer_use_fpu rt_tasklet_use_fpu</span>
00252 <span class="preprocessor"></span>
00253 <span class="keywordtype">void</span> rt_wait_tasklet_is_hard(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00254                              <span class="keywordtype">int</span> thread);
00255 
00256 <span class="keywordtype">void</span> rt_register_task(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00257                       <span class="keyword">struct</span> rt_tasklet_struct *usptasklet,
00258                       <span class="keyword">struct</span> rt_task_struct *task);
00259  
00260 <span class="preprocessor">#ifdef __cplusplus</span>
00261 <span class="preprocessor"></span>}
00262 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00263 
00264 <span class="preprocessor">#else </span><span class="comment">/* !__KERNEL__ */</span>
00265 
00266 <span class="preprocessor">#include &lt;sys/types.h&gt;</span>
00267 <span class="preprocessor">#include &lt;sys/mman.h&gt;</span>
00268 <span class="preprocessor">#include &lt;stdarg.h&gt;</span>
00269 <span class="preprocessor">#include &lt;pthread.h&gt;</span>
00270 <span class="preprocessor">#include &lt;<a class="code" href="rtai__lxrt_8h.html">rtai_lxrt.h</a>&gt;</span>
00271 
00272 <span class="preprocessor">#ifndef __SUPPORT_TASKLET__</span>
00273 <span class="preprocessor"></span><span class="preprocessor">#define __SUPPORT_TASKLET__</span>
00274 <span class="preprocessor"></span>
00275 <span class="keyword">static</span> <span class="keywordtype">void</span> *support_tasklet(<span class="keywordtype">void</span> *arg)
00276 {
00277         RT_TASK *task;
00278         <span class="keyword">struct </span>rt_tasklet_struct *tasklet, usptasklet;
00279         <span class="keyword">struct </span>{ <span class="keywordtype">void</span> *tasklet; <span class="keywordtype">void</span> *handler; } upd;
00280 
00281         upd.tasklet = tasklet = ((<span class="keyword">struct </span>rt_tasklet_struct **)arg)[0];
00282         pthread_setcanceltype(PTHREAD_CANCEL_ASYNCHRONOUS, NULL);
00283         <span class="keywordflow">if</span> (!(task = rt_task_init_schmod((<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)tasklet, 98, 0, 0, SCHED_FIFO, 0xF))) {
00284                 printf(<span class="stringliteral">"CANNOT INIT SUPPORT TASKLET\n"</span>);
00285                 <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)1;
00286         }
00287 
00288         {
00289                 <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet, *usptasklet; RT_TASK *task; } arg = { tasklet, &amp;usptasklet, task };
00290                 rtai_lxrt(TSKIDX, SIZARG, REG_TASK, &amp;arg);
00291         }
00292 
00293         mlockall(MCL_CURRENT | MCL_FUTURE);
00294 
00295         <a class="code" href="group__lxrt.html#a57">rt_make_hard_real_time</a>();
00296         <span class="keywordflow">while</span> (1) {
00297                 <a class="code" href="common_8c.html#a10">rt_task_suspend</a>(task);
00298                 <span class="keywordflow">if</span> ((upd.handler = (<span class="keywordtype">void</span>*)usptasklet.handler)) {
00299                         rtai_lxrt(TSKIDX, SIZARG, SET_HDL, &amp;upd);
00300                         usptasklet.handler(usptasklet.data);
00301                 } <span class="keywordflow">else</span> {
00302                         <span class="keywordflow">break</span>;
00303                 }
00304         }
00305         <a class="code" href="group__lxrt.html#a6">rt_make_soft_real_time</a>();
00306 
00307         <a class="code" href="sched__up_8c.html#a59">rt_task_delete</a>(task);
00308         <span class="keywordflow">return</span> (<span class="keywordtype">void</span> *)0;
00309 }
00310 <span class="preprocessor">#endif </span><span class="comment">/* __SUPPORT_TASKLET__ */</span>
00311 
00312 <span class="preprocessor">#ifdef __cplusplus</span>
00313 <span class="preprocessor"></span><span class="keyword">extern</span> <span class="stringliteral">"C"</span> {
00314 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00315 
<a name="l00316"></a><a class="code" href="group__tasklets.html#a9">00316</a> RTAI_PROTO(<span class="keyword">struct</span> rt_tasklet_struct *, rt_init_tasklet,(<span class="keywordtype">void</span>))
00317 {
00318         pthread_t thread;
00319         <span class="keyword">struct </span>rt_tasklet_struct *tasklet;
00320 
00321         {
00322                 <span class="keyword">struct </span>{ <span class="keywordtype">int</span> dummy; } arg = { 0 };
00323                 tasklet = (<span class="keyword">struct </span>rt_tasklet_struct*)rtai_lxrt(TSKIDX, SIZARG, INIT, &amp;arg).v[LOW];
00324         }
00325 
00326         pthread_create(&amp;thread, NULL, support_tasklet, &amp;tasklet);
00327 
00328         {
00329                 <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; pthread_t thread; } arg = { tasklet, thread };
00330                 rtai_lxrt(TSKIDX, SIZARG, WAIT_IS_HARD, &amp;arg);
00331         }
00332 
00333         <span class="keywordflow">return</span> tasklet;
00334 }
00335 
00336 <span class="preprocessor">#define rt_init_timer rt_init_tasklet</span>
00337 <span class="preprocessor"></span>
<a name="l00338"></a><a class="code" href="group__tasklets.html#a10">00338</a> RTAI_PROTO(<span class="keywordtype">void</span>, rt_delete_tasklet,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet))
00339 {
00340         pthread_t thread;
00341         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; } arg = { tasklet };
00342         <span class="keywordflow">if</span> ((thread = (pthread_t)rtai_lxrt(TSKIDX, SIZARG, DELETE, &amp;arg).i[LOW])) {
00343                 pthread_join(thread, NULL);
00344         }
00345 }
00346 
00347 <span class="preprocessor">#define rt_delete_timer rt_delete_tasklet</span>
00348 <span class="preprocessor"></span>
00349 RTAI_PROTO(<span class="keywordtype">int</span>, rt_insert_timer,(<span class="keyword">struct</span> rt_tasklet_struct *timer,
00350                                  <span class="keywordtype">int</span> priority,
00351                                  RTIME firing_time,
00352                                  RTIME period,
00353                                  <span class="keywordtype">void</span> (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>),
00354                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data,
<a name="l00355"></a><a class="code" href="group__tasklets.html#a11">00355</a>                                  <span class="keywordtype">int</span> pid))
00356 {
00357         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *timer; <span class="keywordtype">int</span> priority; RTIME firing_time;
00358             RTIME period; void (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>); <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data; <span class="keywordtype">int</span> pid; } arg =
00359                 { timer, priority, firing_time, period, handler, data, pid };
00360         <span class="keywordflow">return</span> rtai_lxrt(TSKIDX, SIZARG, TIMER_INSERT, &amp;arg).i[LOW];
00361 }
00362 
<a name="l00363"></a><a class="code" href="group__tasklets.html#a12">00363</a> RTAI_PROTO(<span class="keywordtype">void</span>, rt_remove_timer,(<span class="keyword">struct</span> rt_tasklet_struct *timer))
00364 {
00365         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *timer; } arg = { timer };
00366         rtai_lxrt(TSKIDX, SIZARG, TIMER_REMOVE, &amp;arg);
00367 }
00368 
<a name="l00369"></a><a class="code" href="group__tasklets.html#a13">00369</a> RTAI_PROTO(<span class="keywordtype">void</span>, rt_set_timer_priority,(<span class="keyword">struct</span> rt_tasklet_struct *timer, <span class="keywordtype">int</span> priority))
00370 {
00371         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *timer; <span class="keywordtype">int</span> priority; } arg = { timer, priority };
00372         rtai_lxrt(TSKIDX, SIZARG, SET_TASKLETS_PRI, &amp;arg);
00373 }
00374 
<a name="l00375"></a><a class="code" href="group__tasklets.html#a14">00375</a> RTAI_PROTO(<span class="keywordtype">void</span>, rt_set_timer_firing_time,(<span class="keyword">struct</span> rt_tasklet_struct *timer, RTIME firing_time))
00376 {
00377         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *timer; RTIME firing_time; } arg = { timer, firing_time };
00378         rtai_lxrt(TSKIDX, SIZARG, SET_FIR_TIM, &amp;arg);
00379 }
00380 
<a name="l00381"></a><a class="code" href="group__tasklets.html#a15">00381</a> RTAI_PROTO(<span class="keywordtype">void</span>, rt_set_timer_period,(<span class="keyword">struct</span> rt_tasklet_struct *timer, RTIME period))
00382 {
00383         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *timer; RTIME period; } arg = { timer, period };
00384         rtai_lxrt(TSKIDX, SIZARG, SET_PER, &amp;arg);
00385 }
00386 
00387 RTAI_PROTO(<span class="keywordtype">int</span>, rt_set_tasklet_handler,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet, <span class="keywordtype">void</span> (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>)))
00388 {
00389         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; void (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>); } arg = { tasklet, handler };
00390         <span class="keywordflow">return</span> rtai_lxrt(TSKIDX, SIZARG, SET_HDL, &amp;arg).i[LOW];
00391 }
00392 
00393 <span class="preprocessor">#define rt_set_timer_handler rt_set_tasklet_handler</span>
00394 <span class="preprocessor"></span>
00395 RTAI_PROTO(<span class="keywordtype">void</span>, rt_set_tasklet_data,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet, <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data))
00396 {
00397         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data; } arg = { tasklet, data };
00398         rtai_lxrt(TSKIDX, SIZARG, SET_DAT, &amp;arg);
00399 }
00400 
00401 <span class="preprocessor">#define rt_set_timer_data rt_set_tasklet_data</span>
00402 <span class="preprocessor"></span>
00403 RTAI_PROTO(RT_TASK *, rt_tasklet_use_fpu,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet, <span class="keywordtype">int</span> use_fpu))
00404 {
00405         RT_TASK *task;
00406         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; <span class="keywordtype">int</span> use_fpu; } arg = { tasklet, use_fpu };
00407         <span class="keywordflow">if</span> ((task = (RT_TASK*)rtai_lxrt(TSKIDX, SIZARG, USE_FPU, &amp;arg).v[LOW])) {
00408                 <a class="code" href="common_8c.html#a14">rt_task_use_fpu</a>(task, use_fpu);
00409         }
00410         <span class="keywordflow">return</span> task;
00411 }
00412 
00413 <span class="preprocessor">#define rt_timer_use_fpu rt_tasklet_use_fpu</span>
00414 <span class="preprocessor"></span>
00415 RTAI_PROTO(<span class="keywordtype">int</span>, rt_insert_tasklet,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet,
00416                                    <span class="keywordtype">int</span> priority,
00417                                    <span class="keywordtype">void</span> (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>),
00418                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data,
00419                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> id,
<a name="l00420"></a><a class="code" href="group__tasklets.html#a19">00420</a>                                    <span class="keywordtype">int</span> pid))
00421 {
00422         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; <span class="keywordtype">int</span> priority; void (*handler)(<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>);
00423             <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> data; <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> id; <span class="keywordtype">int</span> pid; } arg = { tasklet, priority, handler, data, id, pid };
00424         <span class="keywordflow">return</span> rtai_lxrt(TSKIDX, SIZARG, TASK_INSERT, &amp;arg).i[LOW];
00425 }
00426 
00427 RTAI_PROTO(<span class="keywordtype">void</span>, rt_set_tasklet_priority,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet, <span class="keywordtype">int</span> priority))
00428 {
00429         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; <span class="keywordtype">int</span> priority; } arg = { tasklet, priority };
00430         rtai_lxrt(TSKIDX, SIZARG, SET_TSK_PRI, &amp;arg);
00431 }
00432 
<a name="l00433"></a><a class="code" href="group__tasklets.html#a21">00433</a> RTAI_PROTO(<span class="keywordtype">void</span>, rt_remove_tasklet,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet))
00434 {
00435         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; } arg = { tasklet };
00436         rtai_lxrt(TSKIDX, SIZARG, TASK_REMOVE, &amp;arg);
00437 }
00438 
<a name="l00439"></a><a class="code" href="group__tasklets.html#a22">00439</a> RTAI_PROTO(<span class="keywordtype">int</span>, rt_exec_tasklet,(<span class="keyword">struct</span> rt_tasklet_struct *tasklet))
00440 {
00441         <span class="keyword">struct </span>{ <span class="keyword">struct </span>rt_tasklet_struct *tasklet; } arg = { tasklet };
00442         <span class="keywordflow">return</span> rtai_lxrt(TSKIDX, SIZARG, EXEC_TASKLET, &amp;arg).i[LOW];
00443 }
00444 
00445 <span class="preprocessor">#ifdef __cplusplus</span>
00446 <span class="preprocessor"></span>}
00447 <span class="preprocessor">#endif </span><span class="comment">/* __cplusplus */</span>
00448 
00449 <span class="preprocessor">#endif </span><span class="comment">/* __KERNEL__ */</span>
00450 
00453 <span class="preprocessor">#endif </span><span class="comment">/* !_RTAI_TASKLETS_H */</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Sat Jul 24 19:36:04 2004 for RTAI API by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
