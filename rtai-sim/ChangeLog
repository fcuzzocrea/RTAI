2004-04-20  Philippe Gerum  <rpm@xenomai.org>

	* vm/trigger.cc (body): Fix a bug causing the trigger to be lost
	when it is reprogrammed on the fly to a regressing timeout date.

	* gcic/gcic.cc (main): Drain __xeno_skin_init() instead of
	mvm_init_skin() at link time.

2004-04-19  Philippe Gerum  <rpm@xenomai.org>

	* include/asm/rtai_xeno.h, vm/simapi.cc: Provide support for the
	aperiodic time source now supported by the Xenomai nucleus.

2004-01-11  Philippe Gerum  <rpm@xenomai.org>

	* include/asm/rtai_xeno.h (xnarch_enter_root): Update prototype.

2003-12-28  Gilles Chanteperdrix  <gilles.chanteperdrix@laposte.net>

	* vmutils: added tclUtil.c et tclUtil.h to remove the dependence
	of libmvmutils upon libtcl.

	* rtai-sim: remove all dependencies upon libtcl, except for the
	scope subdirectory. Doing so prevents conflicts with tcl8.4 and
	higher which link against the NPTL, since the latter is
	incompatible with the lightweight-context switching implemented by
	the simulation engine over setcontext()/getcontext().

2003-12-02  Philippe Gerum  <rpm@xenomai.org>

	* tkimg: Fix for tk8.4.

	* gcic/gcc-2.95.3.patch: Renamed from gcc-2.95.3.diff.

	* gcic/gcc-2.95.3.patch: Add -DYYTOKENTYPE to CxFLAGS to work
	around conflicting enum values generated by recent versions of
	bison. This hack fools bison so that the produced enum is never
	read.

2003-11-30  Philippe Gerum  <rpm@xenomai.org>

	* vmutils/Makefile.am (libmvmutils_la_CPPFLAGS), scope/Makefile.am
	(xenoscope_CPPFLAGS): Add -DUSE_COMPAT_CONST for compiling against
	tcl8.4.

	* configure.in: Whine if libelf-dev is not found on the build
	system.

2003-11-15  Philippe Gerum  <rpm@xenomai.org>

	* vm/manager.cc (MvmManager::tick()): Allow for virtual
	time mode, i.e. zero-time charge simulation.
	
2003-11-12  Philippe Gerum  <rpm@xenomai.org>

	* rtai-sim: Fix CC overrides using $(top_builddir).

	* tkimg/acinclude.m4: Expunge useless macros and overcome RedHat's
	insanities regarding tclConfig.sh.

2003-11-11  Philippe Gerum  <rpm@xenomai.org>

	* acinclude.m4: Removed -fpcc-struct-return from CXXFLAGS. We
	won't link with libraries compiled using non-GCC exotic compilers.

	* gcic/gcic.cc (main): Get rid of the non-GCC support, we don't
	need it, and we don't want to need it, ever. Also add some
	consistency checks to abort GCIC whenever the requested operation
	would lead to a failure. Finally, switch --with-gcic-compiler on
	by default if the compiler used in building the MVM is not
	compatible with the GCC base of the instrumenter (i.e. 2.95.x).

2003-11-09  Philippe Gerum  <rpm@xenomai.org>

	* scope/tcl: Change "Xenomai" to "RTAI/MVM" in messages.

	* skins: Force -g, discard -O2 in CFLAGS.

	* vmutils, vm: Force -g if MVM_DEBUG is on.

2003-11-08  Philippe Gerum  <rpm@xenomai.org>

	* tkimg/acinclude.m4: Fix use of TCL_SHARED_LIB_PREFIX and
	TCL_UNSHARED_LIB_PREFIX.

2003-11-07  Philippe Gerum  <rpm@xenomai.org>

	* tkimg/acinclude.m4: Update Tcl/Tk detection rules.

	* configure.in: Fix inquiry for elf.h, libelf.h and
	libelf/libelf.h.

	* examples/psos+/satch/Makefile.am: Force --use-gcic-compiler flag
	so that GCC 3.x installs don't choke on our 2.x pre-processor
	output.

	* scope/postscript.cc: Kill offending finite() declaration. We
	don't need it anymore with modern libm support.

2003-11-05  Philippe Gerum  <rpm@xenomai.org>

	* Kconfig: Make RTAI_MVM_DEBUG depend on extended configuration.

2003-10-31  Philippe Gerum  <rpm@xenomai.org>

	* Started (based on the final Xenomai 1.1.1 standalone release).
